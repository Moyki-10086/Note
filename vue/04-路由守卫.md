## 路由守卫（Route Guards）
是在Vue Router中用于对路由进行监控和控制的功能。通过使用路由守卫，我们可以在路由跳转前、跳转后或是在路由变化时执行一些特定的操作。

### Vue Router提供了三种类型的路由守卫：
** 每个函数都有三个参数：
* to：即将跳转的路由对象。
* from：当前导航正要离开的路由对象。
* next：必须调用该函数来resolve这个钩子。
**  afterEach只有两个参数，完成进入页面，不需要使用next：
* to：即将跳转的路由对象。
* from：当前导航正要离开的路由对象。
** next函数用于决定导航的行为：
* 调用next()：表示继续进行导航。
* 调用next(false)：中断导航，不进行跳转。
* 调用next('/path')：导航到特定的路径。
* 调用next(error)：导航到一个错误路由。 
* 不调用next()：不进行跳转。 

#### 全局前置守卫（Global Before Guards）：

- beforeEach：在每个路由跳转之前都会被调用（进入页面之前，包括刷新页面），可以用来做全局的权限验证、登录状态判断等操作。
- beforeResolve：在导航被确认之前，同时在所有组件内的守卫和异步路由组件被解析之后调用。
- afterEach：完成导航,进入路径之后

#### 单个路由独享的守卫（Per-Route Guard）：

- beforeEnter：只在当前路由配置生效的守卫，用于对特定路由进行额外的验证或处理。

#### 组件内的守卫（In-Component Guard）：

- beforeRouteEnter：在路由进入组件之前调用，允许我们在组件渲染之前访问组件实例。
- beforeRouteUpdate：在当前路由更新，但是该组件被复用时调用，允许我们在组件复用之前访问组件实例。
- beforeRouteLeave：在离开当前路由时调用，允许我们在离开前对组件进行确认或者取消离开操作。

### 使用路由守卫可以实现很多常见的功能，如：

路由权限控制：在全局前置守卫中验证用户的登录状态或角色权限，如果未登录或权限不足，可以跳转到登录页面或提示无权限。
路由加载状态管理：使用beforeEnter守卫来控制某些路由的异步加载，可以根据需要进行动态加载，提高应用性能。
数据预取和加载：在beforeRouteEnter守卫中获取组件所需的数据，并传递给组件进行渲染，避免在组件内部发起数据请求。


### 完整的导航解析流程:（全局前置守卫 -> 单个路由独享的守卫 -> 组件内的守卫）
- 1.导航被触发。
- 2.在失活的组件里调用beforeRouteLeave守卫。
- - a.如果页面中有重要的信息需要用户保存后才能进行跳转，可以在这里 拦截给出提示信息。
- - b.当开启组件缓存的时候是不会触发destroy等销毁的生命周期钩子函数，也就无法在组件销毁的时候做一些清理工作（比如清除定时器）﹔这种情况如果想要让页面离开的时候做清理则可以借助这个导航守卫。
- 3.调用全局的beforeEach守卫。
- - a.开始加载动画
- - b.校验页面访问权限
- 4.在重用的组件里调用beforeRouteUpdate守卫(2.2+)。
- - a.路由参数改变时触发这个钩子，例如从/foo/1和 /foo/2之间跳转的时候需要重新请求数据，这种类型的跳转不会触发created生命周期函数，可以通过该钩子函数或者监听$route来实现。
- 5.在路由配置里调用beforeEnter。
- 6.解析异步路由组件。
- 7.在被激活的组件里调用beforeRouteEnter。
- 8.调用全局的beforeResolve守卫(2.5+)。
- 9.导航被确认。
- 10.调用全局的afterEach钩子。
- - a.结束加载动画
- 11.触发dom更新
- 12.调用beforeRouterEnter守卫传给next的回调函数，创建好的组件实例会作为回调函数的参数传入
